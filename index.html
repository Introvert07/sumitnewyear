<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For Sumit | 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;800&family=Dancing+Script:wght@700&family=Caveat:wght@400;600&display=swap');

        body {
            background: #f3f4f6;
            font-family: 'Plus Jakarta Sans', sans-serif;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
            perspective: 1200px;
            touch-action: none;
        }

        .letter-paper {
            width: 92vw;
            max-width: 420px;
            min-height: 550px; 
            background: #fff;
            background-image: 
                linear-gradient(90deg, transparent 44px, #abced4 44px, #abced4 46px, transparent 46px),
                linear-gradient(#eee 1px, transparent 1px);
            background-size: 100% 100%, 100% 28px;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            position: relative;
            padding: 60px 25px 40px 65px; 
            transform: rotate(-0.5deg);
            will-change: transform;
        }

        .pencil-text { 
            font-family: 'Caveat', cursive;
            color: #374151;
        }

        .signature-svg {
            width: 160px;
            height: 60px;
            stroke: #e11d48;
            stroke-width: 2;
            fill: none;
            stroke-dasharray: 600;
            stroke-dashoffset: 600;
        }

        #scratch-canvas { 
            position: absolute; 
            top: 0; left: 0; 
            z-index: 50; 
            cursor: crosshair; 
            border-radius: 12px;
            touch-action: none;
        }

        .polaroid {
            position: absolute;
            top: -15px; right: -10px;
            width: 95px;
            background: white;
            padding: 8px 8px 20px 8px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            transform: rotate(5deg);
            z-index: 60;
        }
    </style>
</head>
<body>

<div id="step-name" class="fixed inset-0 z-[100] flex items-center justify-center p-6 bg-white">
    <div class="text-center max-w-xs w-full">
        <div class="text-6xl mb-6">âœ¨</div>
        <h2 class="text-3xl font-black text-slate-900 mb-2 uppercase italic">Hello 2026</h2>
        <p class="text-slate-500 mb-8">A special surprise for Sumit</p>
        <button onclick="startExperience()" class="w-full bg-black text-white py-4 rounded-full font-bold tracking-widest hover:scale-105 transition-transform active:scale-95">SCRATCH TO OPEN</button>
    </div>
</div>

<div id="letter-scene" class="hidden flex flex-col items-center justify-center w-full min-h-screen p-4">
    <div class="letter-paper" id="paper">
        <div class="polaroid">
            <img src="https://images.unsplash.com/photo-1467810563316-b5476525c0f9?q=80&w=200" class="w-full h-20 object-cover rounded-sm">
            <p class="pencil-text text-[10px] text-center mt-2 font-bold">Cheers to 2026</p>
        </div>

        <canvas id="scratch-canvas"></canvas>

        <div class="flex flex-col h-full pointer-events-none z-10">
            <p class="pencil-text text-sm font-bold opacity-50 mb-6">January 1st, 2026</p>
            <h1 class="pencil-text text-4xl mb-4">Dear <span class="text-rose-600">Sumit</span>,</h1>
            
            <div class="pencil-text text-2xl leading-snug space-y-4">
                <p>Welcome to a brand new year! I hope 2026 brings you endless joy, success, and everything you've been working for.</p>
                <p>Let's make this year better than ever!</p>
            </div>

            <div class="mt-auto pt-8 pointer-events-auto">
                <p class="pencil-text text-xl mb-4 font-bold">Ready for the 2026 vibes?</p>
                <div class="flex gap-4">
                    <button onclick="handleYes()" class="px-8 py-3 bg-rose-500 text-white rounded-xl font-bold shadow-lg shadow-rose-200 active:scale-95 transition-transform">LET'S GO! ðŸš€</button>
                </div>
            </div>

            <div class="mt-8">
                <p class="pencil-text text-lg italic">Best regards,</p>
                <svg class="signature-svg" id="sig-path" viewBox="0 0 200 60">
                    <text x="10" y="45" font-family="Dancing Script" font-size="45" fill="#e11d48">Sumit</text>
                </svg>
            </div>
        </div>
    </div>
</div>

<script>
const canvas = document.getElementById('scratch-canvas');
const ctx = canvas.getContext('2d');
let isScratching = false;

function startExperience() {
    gsap.to("#step-name", { opacity: 0, duration: 0.5, onComplete: () => {
        document.getElementById('step-name').classList.add('hidden');
        document.getElementById('letter-scene').classList.remove('hidden');
        initScratch();
        gsap.from("#paper", { y: 50, opacity: 0, rotation: 2, duration: 1, ease: "back.out" });
    }});
}

function initScratch() {
    const paper = document.getElementById('paper');
    const dpr = window.devicePixelRatio || 1;
    canvas.width = paper.offsetWidth * dpr;
    canvas.height = paper.offsetHeight * dpr;
    canvas.style.width = paper.offsetWidth + 'px';
    canvas.style.height = paper.offsetHeight + 'px';
    ctx.scale(dpr, dpr);

    // Dark elegant scratch layer
    ctx.fillStyle = '#1e293b'; 
    ctx.fillRect(0, 0, paper.offsetWidth, paper.offsetHeight);
    
    ctx.font = "900 18px 'Plus Jakarta Sans'";
    ctx.fillStyle = "#ffffff";
    ctx.textAlign = "center";
    ctx.fillText("SCRATCH TO REVEAL", paper.offsetWidth/2, paper.offsetHeight/2);
}

function handleScratch(e) {
    const rect = canvas.getBoundingClientRect();
    const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
    const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
    
    ctx.globalCompositeOperation = 'destination-out';
    ctx.beginPath();
    ctx.arc(x, y, 35, 0, Math.PI * 2);
    ctx.fill();
    
    checkReveal();
}

function checkReveal() {
    if (Math.random() > 0.1) return;
    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
    let transparent = 0;
    for (let i = 3; i < imageData.data.length; i += 400) {
        if (imageData.data[i] === 0) transparent++;
    }
    if (transparent > (imageData.data.length / 400) * 0.45) { 
        gsap.to(canvas, { opacity: 0, duration: 0.8, onComplete: () => {
            canvas.remove();
            gsap.to("#sig-path", { strokeDashoffset: 0, duration: 2 });
        }});
    }
}

canvas.addEventListener('mousedown', () => isScratching = true);
window.addEventListener('mouseup', () => isScratching = false);
canvas.addEventListener('mousemove', (e) => { if(isScratching) handleScratch(e) });
canvas.addEventListener('touchstart', (e) => handleScratch(e));
canvas.addEventListener('touchmove', (e) => { e.preventDefault(); handleScratch(e); });

function handleYes() {
    confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
    setTimeout(() => {
        window.location.href = `https://wa.me/7725055253?text=${encodeURIComponent("Happy New Year 2026! Letter received! ðŸŽ‰")}`;
    }, 600);
}

window.addEventListener('resize', () => {
    if(document.body.contains(canvas)) initScratch();
});
</script>
</body>
</html>